definition {

	macro _selectAssetType {
		var key_assetType = "${assetType}";

		AssertClick(
			locator1 = "AssetRelatedAssets#RELATED_ASSETS_SELECT",
			value1 = "Select");

		var assetTypeLocator = StringUtil.replace("${assetType}", " ", "_");
		var assetTypeLocator = StringUtil.upperCase("${assetTypeLocator}");

		MenuItem.click(menuItem = "${assetType}");
	}

	macro gotoBookmarksSelectionPG {
		Portlet.clickPortletPlusIconPG(portletName = "Bookmarks");

		MenuItem.click(menuItem = "Bookmark");

		Panel.expandPanel(panel = "Related Assets");

		AssertClick(
			locator1 = "AssetRelatedAssets#RELATED_ASSETS_SELECT",
			value1 = "Select");

		var key_assetType = "${assetType}";

		AssertClick(
			locator1 = "APConfiguration#ASSET_SELECTION_MANUAL_ASSET_ENTRIES_ASSET",
			value1 = "${assetType}");
	}

	macro gotoConfigureRelatedAssets {
		Panel.expandPanel(panel = "Related Assets");
	}

	macro removeAsset {
		Panel.expandPanel(panel = "Related Assets");

		for (var removeAssetTitle : list "${removeAssetTitle}") {
			var key_assetTitle = "${removeAssetTitle}";

			Click(locator1 = "AssetRelatedAssets#RELATED_ASSETS_TABLE_REMOVE_LINK");

			AssertElementNotPresent(locator1 = "AssetRelatedAssets#RELATED_ASSETS_TABLE_REMOVE_LINK");
		}
	}

	macro selectAsset {
		RelatedAssets._selectAssetType(assetType = "${assetType}");

		SelectFrame(value1 = "relative=top");

		SelectFrame(locator1 = "IFrame#DIALOG");

		var key_assetTitle = "${assetTitle}";

		Click(
			key_assetTitle = "${assetTitle}",
			locator1 = "AssetRelatedAssets#ASSET_TABLE_CHOOSE");

		SelectFrame(value1 = "relative=top");
	}

	macro viewDefaultPG {
		var key_portletName = "Related Assets";

		AssertTextEquals(
			locator1 = "Portlet#TITLE",
			value1 = "Related Assets");

		AssertTextEquals(
			locator1 = "Message#INFO",
			value1 = "There are no related assets available. This application will show all assets related to the main asset of the current page.");
	}

	macro viewNoPG {
		for (var assetTitle : list "${assetTitleList}") {
			var key_assetTitle = "${assetTitle}";

			AssertElementNotPresent(locator1 = "Relatedassets#ASSET_TITLE");
		}
	}

	macro viewPG {
		if (IsElementPresent(locator1 = "Relatedassets#ASSET_TITLE_IMAGE_1")) {
			AssertVisible(locator1 = "Relatedassets#ASSET_TITLE_IMAGE_1");
		}

		AssertTextEquals(
			locator1 = "Relatedassets#ASSET_TITLE_1",
			value1 = "${assetTitle}");
	}

}